.nh
.TH "STR (vector)" "7" " "  "instruction" "sve"
.SS STR (vector)
 Store vector register

 Store a vector register to a memory address generated by a 64-bit scalar base,
 plus an immediate offset in the range -256 to 255 which is multiplied by the
 current vector register size in bytes. This instruction is unpredicated.

 The store is performed as a stream of byte elements in ascending element order,
 without any endian conversion.

 Status : Green



.SS SVE - A64 - str_z_bi_
 
                                                                   
                                                                   
                                                                   
                     22          16    13    10         5         0
                      |           |     |     |         |         |
   1 1 1 0 0 1 0 1 1 0|. . . . . .|0 1 0|. . .|. . . . .|. . . . .|
                      |                 |     |         |
                      `-imm9h           |     `-Rn      `-Zt
                                        `-imm9l
  
  
 
.SS SVE
 
 STR     <Zt>, [<Xn|SP>{, #<imm>, MUL VL}]
 
 if !HaveSVE() then UNDEFINED;
 integer t = UInt(Zt);
 integer n = UInt(Rn);
 integer imm = SInt(imm9h:imm9l);
 
 CheckSVEEnabled();
 integer elements = VL DIV 8;
 bits(VL) src;
 bits(64) base;
 integer offset = imm * elements;
 
 if n == 31 then
     CheckSPAlignment();
     if HaveMTEExt() then SetTagCheckedInstruction(FALSE);
     base = SP[];
 else
     if HaveMTEExt() then SetTagCheckedInstruction(TRUE);
     base = X[n];
 
 src = Z[t];
 boolean aligned = AArch64.CheckAlignment(base + offset, 16, AccType_NORMAL, TRUE);
 for e = 0 to elements-1
     AArch64.MemSingle[base + offset, 1, AccType_NORMAL, aligned] = Elem[src, e, 8];
     offset = offset + 1;
 

.SS Assembler Symbols

 <Zt>
  Encoded in Zt
  Is the name of the scalable vector register to be transferred, encoded in the
  "Zt" field.

 <Xn|SP>
  Encoded in Rn
  Is the 64-bit name of the general-purpose base register or stack pointer,
  encoded in the "Rn" field.

 <imm>
  Encoded in imm9h:imm9l
  Is the optional signed immediate vector offset, in the range -256 to 255,
  defaulting to 0, encoded in the "imm9h:imm9l" fields.



.SS Operation

 CheckSVEEnabled();
 integer elements = VL DIV 8;
 bits(VL) src;
 bits(64) base;
 integer offset = imm * elements;
 
 if n == 31 then
     CheckSPAlignment();
     if HaveMTEExt() then SetTagCheckedInstruction(FALSE);
     base = SP[];
 else
     if HaveMTEExt() then SetTagCheckedInstruction(TRUE);
     base = X[n];
 
 src = Z[t];
 boolean aligned = AArch64.CheckAlignment(base + offset, 16, AccType_NORMAL, TRUE);
 for e = 0 to elements-1
     AArch64.MemSingle[base + offset, 1, AccType_NORMAL, aligned] = Elem[src, e, 8];
     offset = offset + 1;

